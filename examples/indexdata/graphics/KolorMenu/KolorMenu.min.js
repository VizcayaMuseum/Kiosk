(function(){var k=!0,l=null,n=!1;
KolorMenu=function(q,o){function r(){A?A=n:setTimeout(function(){A=k;r()},1E3);B&&(jQuery("#"+o).width()!=i||jQuery("#"+o).height()!=m)&&p.o()}function s(a){if("undefined"==typeof a.data("sized")){for(var b=0,d=a.find(">li>p"),e=0,f=d.length;e<f;e++)d.eq(e).height()>b&&(b=d.eq(e).height());("Explorer"!=kolorBrowserDetect.browser||6<kolorBrowserDetect.version)&&a.find(">li>p").css("height",b+"px");a.find(">li>p").css("line-height",b+"px");a.data("sized",k)}}function t(a,b){var d=ktools.Color.hex2rgb(b.border_color);
"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?a.css("border-color","rgb("+d[0]+","+d[1]+","+d[2]+")"):a.css("border-color","rgba("+d[0]+","+d[1]+","+d[2]+","+b.border_alpha+")");a.css("border-width",b.border_width+"px");a.css("border-style",b.border_style);a.css("-moz-border-radius",b.border_radius+"px");a.css("-webkit-border-radius",b.border_radius+"px");a.css("border-radius",b.border_radius+"px");d=ktools.Color.hex2rgb(b.background_color);"Explorer"==kolorBrowserDetect.browser&&
9>kolorBrowserDetect.version?a.css("background","rgb("+d[0]+","+d[1]+","+d[2]+")"):a.css("background","rgba("+d[0]+","+d[1]+","+d[2]+","+b.background_alpha+")")}function w(){var c=d.find(".kolorMenu >li"),b=0,h=0;c.each(function(){b+=jQuery(this).height();h<jQuery(this).height()&&(h=jQuery(this).height())});var b=b+(c.length-1)*a.item_spacer,h=h+a.item_spacer,c=a.margins_both?2*a.margin_y:a.margin_y,e=a.margins_both?a.margin_y:0,f=0,g=b+a.item_spacer+2*a.border_width;a.margins_on_items?(f=m-2*a.border_width-
a.item_spacer,f<b+a.item_spacer+c&&(f=b+a.item_spacer+c)):(f=m-(a.margins_both?2*a.margin_y:a.margin_y)-2*a.border_width-a.item_spacer,f<b+a.item_spacer&&(f=b+a.item_spacer),g>f&&(g=f));var i=0;switch(a.position){case KolorMenu.a.t:case KolorMenu.a.z:case KolorMenu.a.n:a.margins_on_items?(c+g>f&&(g=f-c),i=a.margin_y):i=0;break;case KolorMenu.a.w:case KolorMenu.a.m:a.margins_on_items?(c+g>f&&(g=f-c),i=a.margin_y+(f-g-c)/2):i=(f-g)/2;break;case KolorMenu.a.k:case KolorMenu.a.j:case KolorMenu.a.g:a.margins_on_items?
c+g>f?(g=f-c,i=e):i=f-g-a.margin_y:i=f-g}rootMenuHeightPaddingLess=f-i;d.find(".kolorMenuMain").css("height",f+"px");d.find(".kolorMenuMain").css("min-height",h+"px");d.find(".kolorMenu").css("height",g+"px");d.find(".kolorMenu").css("padding-top",i+"px")}function x(){var c=d.find(".kolorMenu >li"),b=0,h=0;c.each(function(){b+=jQuery(this).width();h<jQuery(this).width()&&(h=jQuery(this).width())});var b=b+((c.length-1)*a.item_spacer+1),h=h+(a.item_spacer+1),c=0,e=b+a.item_spacer+2*a.border_width;
a.margins_on_items?(c=i-2*a.border_width-a.item_spacer,0>c&&(c=0)):(c=i-(a.margins_both?2*a.margin_x:a.margin_x)-2*a.border_width-a.item_spacer,0>c&&(c=0),e>c&&(e=c));var f=0,g=a.margins_both?2*a.margin_x:a.margin_x,j=a.margins_both?a.margin_x:0;switch(a.position){case KolorMenu.a.t:case KolorMenu.a.w:case KolorMenu.a.k:a.margins_on_items?(g+e>c&&(e=c-g),f=a.margin_x):f=0;break;case KolorMenu.a.z:case KolorMenu.a.j:a.margins_on_items?(g+e>c&&(e=c-g),f=a.margin_x+(c-e-g)/2):f=(c-e)/2;break;case KolorMenu.a.n:case KolorMenu.a.m:case KolorMenu.a.g:a.margins_on_items?
g+e>c?(e=c-g,f=j):f=c-e-a.margin_x:f=c-e}d.find(".kolorMenuMain").css("width",c+"px");d.find(".kolorMenuMain").css("min-width",h+"px");kolorBrowserDetect.isIE()?d.find(".kolorMenu").css("width",e+1+"px"):d.find(".kolorMenu").css("width",e+"px");d.find(".kolorMenu").css("padding-left",f+"px")}function y(){var c,b;d.find("ul.kolorMenu").find(">li").each(function(){b=jQuery(this).find(">ul");if(0<b.length){c=jQuery(this).offset();b.css("width","");b.css("height","");b.css("overflow-x","");b.css("overflow-y",
"");var h=n,e=b.height(),h=n,e=b.width(),f="top",g="0";jQuery(window).width()>i&&0<d.parent()[0].offsetLeft&&(c.left-=d.parent()[0].offsetLeft);jQuery(window).height()>m&&0<d.parent()[0].offsetTop&&(c.top-=d.parent()[0].offsetTop);if(a.sub_orientation==KolorMenu.b.d){b.find("li").last().css("margin-bottom",a.item_spacer+"px");b.find("li").css("overflow","hidden");switch(a.position){case KolorMenu.a.g:case KolorMenu.a.j:case KolorMenu.a.k:h=c.top<b.height();e=c.top;f="bottom";break;default:h=c.top+
b.height()+jQuery(this).height()>m,e=m-(c.top+jQuery(this).height()),f="top"}h&&(b.css("height",e+"px"),b.css("overflow-x","hidden"),b.css("overflow-y","scroll"));b.css(f,"100%");switch(a.position){case KolorMenu.a.n:case KolorMenu.a.m:case KolorMenu.a.g:h=c.left+jQuery(this).width()-2*a.item_spacer<b.width();b.width()>i?(e=i,g=c.left+jQuery(this).width()-i-2*a.item_spacer):(e=b.width(),g=c.left+jQuery(this).width()-b.width()-2*a.item_spacer);f="right";h||(g="0");break;default:h=c.left+b.width()+
2*a.item_spacer>i,b.width()>i?(g=-c.left,e=i-2*a.item_spacer):(g=i-(b.width()+c.left)+2*a.item_spacer,e=b.width()),f="left",h||(g="0")}h&&b.css("width",e+"px");"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?b.css(f,g+"px"):b.css(f,g-a.border_width-a.item_spacer+"px")}if(a.sub_orientation==KolorMenu.b.c){b.find("li").last().css("padding-right",a.item_spacer+"px");b.find("li").css("overflow","hidden");switch(a.position){case KolorMenu.a.n:case KolorMenu.a.g:case KolorMenu.a.m:h=
b.width()>c.left+jQuery(this).width();b.width()>i?(e=i,g=c.left+jQuery(this).width()-i,h&&b.css("overflow-x","scroll")):(e=b.width(),g=c.left+jQuery(this).width()-b.width());f="right";h||(g="0");break;default:h=c.left+b.width()>i,b.width()>i?(g=-c.left,e=i,h&&b.css("overflow-x","scroll")):(g=i-(b.width()+c.left),e=b.width()),f="left",h||(g="0")}h&&(b.css("width",e+"px"),b.css("overflow-y","hidden"));"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?b.css(f,g+"px"):b.css(f,g-a.border_width-
a.item_spacer+"px");switch(a.position){case KolorMenu.a.g:case KolorMenu.a.j:case KolorMenu.a.k:h=c.top<b.height();e=c.top;f="bottom";break;default:h=c.top+b.height()+jQuery(this).height()>=m,e=m-(c.top+jQuery(this).height()),f="top"}h&&(b.css("height",e+"px"),b.css("overflow-y","scroll"));b.css(f,"100%")}}})}function u(){var c,b;d.find("ul.kolorMenu").find(">li").each(function(){b=jQuery(this).find(">ul");if(0<b.length){c=jQuery(this).offset();b.css("width","");b.css("height","");b.css("overflow-x",
"");b.css("overflow-y","");var h=n,e=b.height(),h=n,e=b.width(),f="top";jQuery(window).width()>i&&0<d.parent()[0].offsetLeft&&(c.left-=d.parent()[0].offsetLeft);jQuery(window).height()>m&&0<d.parent()[0].offsetTop&&(c.top-=d.parent()[0].offsetTop);if(a.sub_orientation==KolorMenu.b.d){b.find("li").last().css("margin-bottom",a.item_spacer+"px");b.find("li").css("overflow","hidden");switch(a.position){case KolorMenu.a.g:case KolorMenu.a.k:case KolorMenu.a.j:h=b.height()>c.top+jQuery(this).height()+a.item_spacer;
e=c.top+jQuery(this).height()+a.item_spacer;f="bottom";break;default:h=b.height()+c.top>m,e=m-c.top,f="top"}h&&(b.css("height",e+"px"),b.css("overflow-x","hidden"),b.css("overflow-y","scroll"));"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?b.css(f,"0"):b.css(f,("bottom"==f?0-a.border_width-a.item_spacer:0-a.border_width)+"px");switch(a.position){case KolorMenu.a.n:case KolorMenu.a.m:case KolorMenu.a.g:h=c.left-2*a.item_spacer<b.width();e=c.left-2*a.item_spacer;f="right";break;
default:h=c.left+jQuery(this).width()+b.width()>i,e=i-c.left-jQuery(this).width()-2*a.item_spacer,f="left"}h&&b.css("width",e+"px");b.css(f,"100%")}if(a.sub_orientation==KolorMenu.b.c){b.find("li").last().css("padding-right",a.item_spacer+"px");b.find("li").css("overflow","hidden");switch(a.position){case KolorMenu.a.n:case KolorMenu.a.m:case KolorMenu.a.g:h=c.left-a.item_spacer<b.width();e=c.left-a.item_spacer;f="right";break;default:h=c.left+jQuery(this).width()+b.width()>i,e=i-c.left-jQuery(this).width()-
a.item_spacer,f="left"}h&&(b.css("width",e+"px"),b.css("overflow-x","scroll"),b.css("overflow-y","hidden"));b.css(f,"100%");switch(a.position){case KolorMenu.a.g:case KolorMenu.a.j:case KolorMenu.a.k:h=b.height()>c.top+jQuery(this).height();e=c.top+jQuery(this).height();f="bottom";break;default:h=c.top+b.height()>m,e=m-c.top,f="top"}h&&(b.css("height",e+"px"),b.css("overflow-y","scroll"));"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?b.css(f,"0"):b.css(f,("bottom"==f?0-a.border_width-
a.item_spacer:0-a.border_width)+"px")}}})}function z(){function c(c){if(c.currentTarget&&void 0!=c.currentTarget&&""!=a.item_selected_color)for(var d=c.currentTarget.id,g=0;g<b;g++){h=p.i().get(g);jQuery("p#"+h.getName()).removeClass("menuSelected");e=h.h().size();for(var i=0;i<e;i++)f=h.h().get(i),f.getName()==d?(jQuery("p#"+h.getName()).addClass("menuSelected"),jQuery("p#"+f.getName()).addClass("menuSelected")):jQuery("p#"+f.getName()).removeClass("menuSelected")}ktools.Device.isTouch()&&c.data.U?
(jQuery("ul.kolorMenu li ul.kolorMenuGroup").removeClass("forceDisplayNone"),jQuery(this).parent().find("ul.kolorMenuGroup").addClass("forceDisplayBlock")):(ktools.Code.eval(c.data.B.u()),ktools.Device.isTouch()?(jQuery("ul.kolorMenu li ul.kolorMenuGroup").removeClass("forceDisplayBlock"),jQuery("ul.kolorMenu li ul.kolorMenuGroup").addClass("forceDisplayNone"),setTimeout(function(){jQuery("ul.kolorMenu li ul.kolorMenuGroup").removeClass("forceDisplayNone")},50)):(jQuery("ul.kolorMenu li:hover ul.kolorMenuGroup").css("display",
"none"),setTimeout(function(){jQuery("ul.kolorMenu li ul.kolorMenuGroup").css("display","")},50)))}for(var b=p.i().size(),h=l,e=0,f=l,g=0;g<b;g++){var h=p.i().get(g),e=h.h().size(),i=jQuery.extend(jQuery.extend(k,{},a),jQuery.extend(k,{},h.l()));h.p()&&t(d.find("p#"+h.getName()).parent().find("ul"),i);d.find("p#"+h.getName()).data("object",h);h.u()!=l?d.find(".kolorMenuItem #"+h.getName()).unbind("click").bind("click",{B:h},c):ktools.Device.isTouch()&&d.find(".kolorMenuItem #"+h.getName()).unbind("click").bind("click",
{B:h,U:k},c);for(i=0;i<e;i++)f=h.h().get(i),d.find("p#"+f.getName()).data("object",f),f.u()!=l&&d.find(".kolorMenuItem #"+f.getName()).unbind("click").bind("click",{B:f},c)}d.find("p").unbind("mouseenter").bind("mouseenter",function(){var b=l,b=jQuery(this).data("object").A()?jQuery.extend(jQuery.extend(k,{},a),jQuery.extend(k,{},jQuery(this).data("object").l())):jQuery.extend(jQuery.extend(k,{},a),jQuery.extend(k,{},jQuery(this).data("object").getParent().l()),jQuery.extend(k,{},jQuery(this).data("object").l())),
c=ktools.Color.hex2rgb(b.item_hover_bg_color),e=b.item_hover_bg_alpha;a.use_hover_effect&&jQuery(this).hasClass("menuSelected")&&(c=ktools.Color.hex2rgb(a.item_selected_hover_color),e=a.item_selected_hover_alpha);a.use_hover_effect&&("Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?jQuery(this).css("background","rgb("+c[0]+","+c[1]+","+c[2]+")"):jQuery(this).css("background","rgba("+c[0]+","+c[1]+","+c[2]+","+e+")"));c=ktools.Color.hex2rgb(b.item_hover_border_color);"Explorer"==
kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?jQuery(this).css("border-color","rgb("+c[0]+","+c[1]+","+c[2]+")"):jQuery(this).css("border-color","rgba("+c[0]+","+c[1]+","+c[2]+","+b.item_hover_border_alpha+")");jQuery(this).css("border-width",b.item_hover_border_width+"px");jQuery(this).css("border-style",b.item_hover_border_style);jQuery(this).css("-moz-border-radius",b.item_hover_border_radius+"px");jQuery(this).css("-webkit-border-radius",b.item_hover_border_radius+"px");jQuery(this).css("border-radius",
b.item_hover_border_radius+"px");a.force_font_menu&&jQuery(this).data("object").s()?(jQuery(this).css("font-family",'"'+a.force_font_menu_family+'", sans-serif'),jQuery(this).css("color","#"+a.force_font_menu_color),jQuery(this).css("font-size",a.force_font_menu_size+"px"),jQuery(this).css("font-weight",a.force_font_menu_weight),jQuery(this).css("font-style",a.force_font_menu_style),jQuery(this).css("text-decoration",a.force_font_menu_decoration)):a.force_font_submenu&&!jQuery(this).data("object").s()?
(jQuery(this).css("font-family",'"'+a.force_font_submenu_family+'", sans-serif'),jQuery(this).css("color","#"+a.force_font_submenu_color),jQuery(this).css("font-size",a.force_font_submenu_size+"px"),jQuery(this).css("font-weight",a.force_font_submenu_weight),jQuery(this).css("font-style",a.force_font_submenu_style),jQuery(this).css("text-decoration",a.force_font_submenu_decoration)):(jQuery(this).css("font-family",'"'+b.item_hover_font_family+'", sans-serif'),jQuery(this).css("color","#"+b.item_hover_font_color),
jQuery(this).css("font-size",b.item_hover_font_size+"px"),jQuery(this).css("font-weight",b.item_hover_font_weight),jQuery(this).css("font-style",b.item_hover_font_style),jQuery(this).css("text-decoration",b.item_hover_font_decoration));("left"==a.text_align||"right"==a.text_align)&&0<jQuery(this).parent().find("ul").length&&a.sub_orientation==KolorMenu.b.c&&s(d.find(".kolorMenu"))});d.find("p").unbind("mouseleave").bind("mouseleave",function(){var b=l,b=jQuery(this).data("object").A()?jQuery.extend(jQuery.extend(k,
{},a),jQuery.extend(k,{},jQuery(this).data("object").l())):jQuery.extend(jQuery.extend(k,{},a),jQuery.extend(k,{},jQuery(this).data("object").getParent().l()),jQuery.extend(k,{},jQuery(this).data("object").l())),c=ktools.Color.hex2rgb(b.item_out_bg_color),d=b.item_out_bg_alpha;a.use_hover_effect&&jQuery(this).hasClass("menuSelected")&&(c=ktools.Color.hex2rgb(a.item_selected_color),d=a.item_selected_alpha);a.use_out_effect?"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?jQuery(this).css("background",
"rgb("+c[0]+","+c[1]+","+c[2]+")"):jQuery(this).css("background","rgba("+c[0]+","+c[1]+","+c[2]+","+d+")"):jQuery(this).css("background","");c=ktools.Color.hex2rgb(b.item_out_border_color);"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?jQuery(this).css("border-color","rgb("+c[0]+","+c[1]+","+c[2]+")"):jQuery(this).css("border-color","rgba("+c[0]+","+c[1]+","+c[2]+","+b.item_out_border_alpha+")");jQuery(this).css("border-width",b.item_out_border_width+"px");jQuery(this).css("border-style",
b.item_out_border_style);jQuery(this).css("-moz-border-radius",b.item_out_border_radius+"px");jQuery(this).css("-webkit-border-radius",b.item_out_border_radius+"px");jQuery(this).css("border-radius",b.item_out_border_radius+"px");a.force_font_menu&&jQuery(this).data("object").s()?(jQuery(this).css("font-family",'"'+a.force_font_menu_family+'", sans-serif'),jQuery(this).css("color","#"+a.force_font_menu_color),jQuery(this).css("font-size",a.force_font_menu_size+"px"),jQuery(this).css("font-weight",
a.force_font_menu_weight),jQuery(this).css("font-style",a.force_font_menu_style),jQuery(this).css("text-decoration",a.force_font_menu_decoration)):a.force_font_submenu&&!jQuery(this).data("object").s()?(jQuery(this).css("font-family",'"'+a.force_font_submenu_family+'", sans-serif'),jQuery(this).css("color","#"+a.force_font_submenu_color),jQuery(this).css("font-size",a.force_font_submenu_size+"px"),jQuery(this).css("font-weight",a.force_font_submenu_weight),jQuery(this).css("font-style",a.force_font_submenu_style),
jQuery(this).css("text-decoration",a.force_font_submenu_decoration)):(jQuery(this).css("font-family",'"'+b.item_out_font_family+'", sans-serif'),jQuery(this).css("color","#"+b.item_out_font_color),jQuery(this).css("font-size",b.item_out_font_size+"px"),jQuery(this).css("font-weight",b.item_out_font_weight),jQuery(this).css("font-style",b.item_out_font_style),jQuery(this).css("text-decoration",b.item_out_font_decoration));c=jQuery(this).find("img:first");c.css("max-width",b.item_thumb_max_width+"px");
c.css("max-height",b.item_thumb_max_height+"px");0<b.item_title_max_width&&(d="max-width",b.item_title_max_width_limit||(d="width"),0<c.length?jQuery(this).css(d,b.item_title_max_width+b.item_thumb_max_width+b.margin_title_thumb+"px"):jQuery(this).css(d,b.item_title_max_width+"px"),jQuery(this).css("overflow","hidden"),jQuery(this).css("text-overflow","ellipsis"),jQuery(this).css("white-space","nowrap"));"Explorer"==kolorBrowserDetect.browser&&7>kolorBrowserDetect.version&&(c.css("width",b.item_thumb_max_width+
"px"),c.css("height",b.item_thumb_max_height+"px"),0<b.item_title_max_width&&b.item_title_max_width_limit&&(0<c.length?jQuery(this).css("width",b.item_title_max_width+b.item_thumb_max_width+b.margin_title_thumb+"px"):jQuery(this).css("width",b.item_title_max_width+"px")))});d.find("p").mouseleave()}function v(){"left"==a.text_align?d.find("ul.kolorMenu p").css("text-align","right"):"top"==a.text_align?(d.find("ul.kolorMenu p").css("text-align","center"),d.find("ul.kolorMenu span.overThumb").css("display",
"block"),d.find("ul.kolorMenu span.overThumb").css("padding-bottom","5px"),d.find("ul.kolorMenu img.overThumb").css("vertical-align","top"),jQuery.each(d.find("ul.kolorMenu img.overThumb.mainLevel"),function(){jQuery(this).css("margin-bottom",a.item_thumb_max_height-jQuery(this).height()+"px")})):"bottom"==a.text_align&&(d.find("ul.kolorMenu p").css("text-align","center"),d.find("ul.kolorMenu span.underThumb").css("display","block"),a.force_font_submenu?d.find("ul.kolorMenu span.underThumb.subLevel").css("line-height",
a.force_font_submenu_size+"px"):d.find("ul.kolorMenu span.underThumb.subLevel").css("line-height",a.item_out_font_size+"px"),a.force_font_menu?d.find("ul.kolorMenu span.underThumb.mainLevel").css("line-height",a.force_font_menu_size+"px"):d.find("ul.kolorMenu span.underThumb.mainLevel").css("line-height",a.item_out_font_size+"px"),d.find("ul.kolorMenu span.underThumb").css("margin-top","5px"),d.find("ul.kolorMenu img.underThumb").css("vertical-align","top"),jQuery.each(d.find("ul.kolorMenu img.underThumb.mainLevel"),
function(){jQuery(this).css("margin-top",a.item_thumb_max_height-jQuery(this).height()+"px")}))}function j(){var c='<div id="'+q+'" class="kolorMenuContainer" style="position:absolute;z-index:'+a.zorder+';"><div class="kolorMenuMain"><ul class="kolorMenu">';a.current_group!=l?(C=a.current_group,c+=D(a.current_group)):c+=D(l);jQuery("#"+o).prepend(c+"</ul></div></div>")}function D(c){for(var b="",d=p.i().size(),e=l,f=0,g=l,i=0;i<d;i++){var e=p.i().get(i),f=e.h().size(),j=0;switch(a.position){case KolorMenu.a.g:case KolorMenu.a.j:case KolorMenu.a.k:j=
i;break;default:j=d-i}if(e.p()){b+='<li class="kolorMenuItem" '+(kolorBrowserDetect.isIE()?'aria-haspopup="true" ':"")+'style="z-index:'+j+';">';b+='<p id="'+e.getName()+'" class="'+e.r()+'"'+(a.padding_main!=l?' style="padding:'+a.padding_main+'px;"':"")+(0<a.item_title_max_width?a.item_title_tooltip?' title="'+e.e()+'"':"":"")+">";if(("left"==a.text_align||"top"==a.text_align)&&""!=e.e())b+="<span class='mainLevel"+("top"==a.text_align&&""!=e.f()?" overThumb":"")+"'"+("left"==a.text_align&&""!=
e.f()?" style='margin-right:"+a.margin_title_thumb+"px;'":"")+">"+e.e()+"</span>";""!=e.f()&&(b+='<img src="'+e.f()+'" class="mainLevel'+("top"==a.text_align?" overThumb":"")+("bottom"==a.text_align?" underThumb":"")+'" alt="'+e.e()+'" />');if(("right"==a.text_align||"bottom"==a.text_align)&&""!=e.e())b+="<span class='mainLevel"+("bottom"==a.text_align&&""!=e.f()?" underThumb":"")+"'"+("right"==a.text_align&&""!=e.f()?" style='margin-left:"+a.margin_title_thumb+"px;'":"")+">"+e.e()+"</span>";b+="</p>";
b+='<ul class="kolorMenuGroup">';e.C(k)}if(c==l||c&&c==e.r())for(var m=0;m<f;m++){var g=e.h().get(m),o="subLevel";!e.p()&&1==f&&(g.C(k),o="mainLevel");b+='<li class="kolorMenuItem" '+(kolorBrowserDetect.isIE()?'aria-haspopup="true" ':"")+'style="z-index:'+j+';">';b+='<p id="'+g.getName()+'" class="'+g.r()+'"'+(a.padding_sub!=l?' style="padding:'+a.padding_sub+'px;"':"")+(0<a.item_title_max_width?a.item_title_tooltip?' title="'+g.e()+'"':"":"")+">";if(("left"==a.text_align||"top"==a.text_align)&&""!=
g.e())b+="<span class='"+o+("top"==a.text_align&&""!=g.f()?" overThumb":"")+"'"+("left"==a.text_align&&""!=g.f()?" style='margin-right:"+a.margin_title_thumb+"px;'":"")+">"+g.e()+"</span>";""!=g.f()&&(b+='<img src="'+g.f()+'" class="'+o+("top"==a.text_align?" overThumb":"")+("bottom"==a.text_align?" underThumb":"")+'" alt="'+g.e()+'" />');if(("right"==a.text_align||"bottom"==a.text_align)&&""!=g.e())b+="<span class='"+o+""+("bottom"==a.text_align&&""!=g.f()?" underThumb":"")+"'"+("right"==a.text_align&&
""!=g.f()?" style='margin-left:"+a.margin_title_thumb+"px;'":"")+">"+g.e()+"</span>";b+="</p>";b+="</li>"}e.p()&&(b+="</ul></li>")}return b}var a={position:KolorMenu.a.t,orientation:KolorMenu.b.c,sub_orientation:KolorMenu.b.d,margin_x:8,margin_y:8,margins_on_items:n,margins_both:n,background_color:"b3b3b3",background_alpha:0.4,border_color:"ffffff",border_alpha:1,border_width:0,border_style:KolorMenu.v.NONE,border_radius:7,use_out_effect:k,item_out_bg_color:"4d4d4d",item_out_bg_alpha:1,item_out_border_color:"424542",
item_out_border_alpha:1,item_out_border_width:0,item_out_border_style:KolorMenu.v.NONE,item_out_border_radius:7,item_out_font_family:KolorMenu.F.D.value,item_out_font_color:"ffffff",item_out_font_size:14,item_out_font_weight:KolorMenu.H.q,item_out_font_style:KolorMenu.G.q,item_out_font_decoration:KolorMenu.I.NONE,use_hover_effect:k,item_hover_bg_color:"575757",item_hover_bg_alpha:1,item_hover_border_color:"424542",item_hover_border_alpha:1,item_hover_border_width:0,item_hover_border_style:KolorMenu.v.NONE,
item_hover_border_radius:7,item_hover_font_family:KolorMenu.F.D.value,item_hover_font_color:"ffffff",item_hover_font_size:14,item_hover_font_weight:KolorMenu.H.q,item_hover_font_style:KolorMenu.G.q,item_hover_font_decoration:KolorMenu.I.NONE,item_selected_color:"",item_selected_alpha:1,item_selected_hover_color:"",item_selected_hover_alpha:1,open_callback:n,padding_main:l,padding_sub:l,text_align:"right",force_font_menu:n,force_font_menu_color:"",force_font_menu_family:"",force_font_menu_size:"",
force_font_menu_weight:"",force_font_menu_style:"",force_font_menu_decoration:"",force_font_submenu:n,force_font_submenu_color:"",force_font_submenu_family:"",force_font_submenu_size:"",force_font_submenu_weight:"",force_font_submenu_style:"",force_font_submenu_decoration:"",item_thumb_max_width:200,item_thumb_max_height:100,margin_title_thumb:10,item_title_max_width:0,item_title_max_width_limit:n,item_title_tooltip:k,item_spacer:5,full_size:k,use_i18n:k,current_group:l,zorder:0,device:"desktop",
scale_offsets:k,scale:1},i=0,m=0,A=n,F=new ktools.Collection,C=l,d=l,G=n,p=this,H=n,I=n,B=n,J=n,E=n;this.setReady=this.ca=function(a){H=a};this.isReady=this.isReady=function(){return H};this.getKolorMenuGroups=this.i=function(){return F};this.addKolorMenuGroup=this.M=function(a){F.add(a)};this.setKolorMenuOptions=this.Z=function(c){a=jQuery.extend(a,c)};this.getKolorMenuOptions=this.T=function(){return a};this.changeLanguage=this.Q=function(){if(a.use_i18n){updateKolorMenu(q);for(var c=p.i().size(),
b=l,d=0,e=l,f=0;f<c;f++){b=p.i().get(f);d=b.h().size();e=b.e();b.p()&&""!=e&&(jQuery("#"+b.getName()).prop("title")&&jQuery("#"+b.getName()).prop("title",e),kolorBrowserDetect.isIE()&&!kolorBrowserDetect.isEdge()&&(e=toStaticHTML(e)),jQuery("#"+b.getName()).find("span").html(e));for(var g=0;g<d;g++){var e=b.h().get(g),i=e.e();""!=i&&(jQuery("#"+e.getName()).prop("title")&&jQuery("#"+e.getName()).prop("title",i),kolorBrowserDetect.isIE()&&!kolorBrowserDetect.isEdge()&&(i=toStaticHTML(i)),jQuery("#"+
e.getName()).find("span").html(i))}}}};this.openKolorMenu=this.V=function(){if(!I){ktools.Device.isTouch()||jQuery("<style type='text/css'>ul.kolorMenu li:hover>*{display:block;}</style>").appendTo("head");J||(a.scale_offsets&&(a.margin_x=Math.round(a.margin_x*a.scale),a.margin_y=Math.round(a.margin_y*a.scale)),a.border_width=Math.round(a.border_width*a.scale),a.border_radius=Math.round(a.border_radius*a.scale),a.item_out_border_width=Math.round(a.item_out_border_width*a.scale),a.item_out_border_radius=
Math.round(a.item_out_border_radius*a.scale),a.item_out_font_size=Math.round(a.item_out_font_size*a.scale),a.item_hover_border_width=Math.round(a.item_hover_border_width*a.scale),a.item_hover_border_radius=Math.round(a.item_hover_border_radius*a.scale),a.item_hover_font_size=Math.round(a.item_hover_font_size*a.scale),a.force_font_menu&&(a.force_font_menu_size=Math.round(a.force_font_menu_size*a.scale)),a.force_font_submenu&&(a.force_font_submenu_size=Math.round(a.force_font_submenu_size*a.scale)),
a.padding_main!=l&&(a.padding_main=Math.round(a.padding_main*a.scale)),a.padding_sub!=l&&(a.padding_sub=Math.round(a.padding_sub*a.scale)),a.item_thumb_max_width=Math.round(a.item_thumb_max_width*a.scale),a.item_thumb_max_height=Math.round(a.item_thumb_max_height*a.scale),a.item_title_max_width=Math.round(a.item_title_max_width*a.scale),a.item_spacer=Math.round(a.item_spacer*a.scale),J=k);j();d=jQuery("#"+q);d.css("top","9999px");d.css("left","9999px");var c=d.find(".kolorMenu li>p>img"),b=0;0==c.length?
(B=k,p.o()):(c.bind("load",function(){b++;if(c.length==b){B=k;p.o()}}),c.bind("error",function(){b++}));G||(jQuery(window).bind("resize",r),G=k);a.open_callback&&ktools.Code.eval(a.open_callback);I=k}};this.applyAll=this.o=function(){i=0==i?jQuery("#"+o).width():kolorBrowserDetect.isAtLeastIEX(11)&&document.msFullscreenElement!=l?document.getElementById(o).clientWidth:jQuery("#"+o).width();m=0==m?jQuery("#"+o).height():kolorBrowserDetect.isAtLeastIEX(11)&&document.msFullscreenElement!=l?document.getElementById(o).clientHeight:
jQuery("#"+o).height();t(d.find(".kolorMenuMain"),a);z();v();if(""!=a.item_selected_color){var c=ktools.Color.hex2rgb(a.item_selected_color),b=document.createElement("style");b.type="text/css";"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?b.styleSheet.cssText="#"+q+" .menuSelected { background-color: rgb("+c[0]+","+c[1]+","+c[2]+"); }":"Explorer"==kolorBrowserDetect.browser&&10>kolorBrowserDetect.version?b.styleSheet.cssText="#"+q+" .menuSelected { background-color: rgba("+
c[0]+","+c[1]+","+c[2]+","+a.item_selected_alpha+"); }":b.innerHTML=kolorBrowserDetect.isIE()&&!kolorBrowserDetect.isEdge()?toStaticHTML("#"+q+" .menuSelected { background-color: rgba("+c[0]+","+c[1]+","+c[2]+","+a.item_selected_alpha+"); }"):"#"+q+" .menuSelected { background-color: rgba("+c[0]+","+c[1]+","+c[2]+","+a.item_selected_alpha+"); }";document.getElementsByTagName("head")[0].appendChild(b)}c=d.find(".kolorMenuMain").children().find("ul");d.css("top","");d.css("right","");d.css("bottom",
"");d.css("left","");switch(a.orientation){case KolorMenu.b.d:d.find(".kolorMenuMain").css("display","block").css("padding","0 "+a.item_spacer+"px "+a.item_spacer+"px");d.find(".kolorMenu>li").css("float","none").css("padding",a.item_spacer+"px 0 0 0");a.full_size&&w();break;case KolorMenu.b.c:"Explorer"==kolorBrowserDetect.browser&&7>kolorBrowserDetect.version?d.find(".kolorMenuMain").css("display","inline").css("zoom",1).css("padding","0 "+a.item_spacer+"px 0 0"):d.find(".kolorMenuMain").css("display",
"inline-block").css("padding","0 "+a.item_spacer+"px 0 0"),d.find(".kolorMenu>li").css("float","left").css("margin",a.item_spacer+"px 0 "+a.item_spacer+"px "+a.item_spacer+"px"),("left"==a.text_align||"right"==a.text_align)&&s(d.find(".kolorMenu")),a.full_size&&x()}switch(a.sub_orientation){case KolorMenu.b.d:c.css("padding","0 "+a.item_spacer+"px");c.find(">li").css("display","block").css("margin",a.item_spacer+"px 0 0");break;case KolorMenu.b.c:c.css("padding","0"),"Explorer"==kolorBrowserDetect.browser&&
7>kolorBrowserDetect.version?c.find(">li").css("display","inline").css("zoom",1).css("margin",a.item_spacer+"px 0 0 "+a.item_spacer+"px"):c.find(">li").css("display","inline-block").css("margin",a.item_spacer+"px 0 "+a.item_spacer+"px "+a.item_spacer+"px")}switch(a.position){case KolorMenu.a.t:(!a.margins_on_items||a.orientation!=KolorMenu.b.c)&&d.css("left",a.margin_x+"px");(!a.margins_on_items||a.orientation!=KolorMenu.b.d)&&d.css("top",a.margin_y+"px");break;case KolorMenu.a.z:a.margins_on_items?
a.margins_on_items&&a.orientation==KolorMenu.b.d&&d.css("left",(i-d.width())/2+a.margin_x+"px"):a.full_size&&a.orientation==KolorMenu.b.c?d.css("left",a.margin_x):d.css("left",(i-d.width())/2+a.margin_x+"px");(!a.margins_on_items||a.orientation!=KolorMenu.b.d)&&d.css("top",a.margin_y+"px");break;case KolorMenu.a.n:(!a.margins_on_items||a.orientation!=KolorMenu.b.c)&&d.css("right",a.margin_x+"px");(!a.margins_on_items||a.orientation!=KolorMenu.b.d)&&d.css("top",a.margin_y+"px");break;case KolorMenu.a.m:(!a.margins_on_items||
a.orientation!=KolorMenu.b.c)&&d.css("right",a.margin_x+"px");a.orientation==KolorMenu.b.d?a.margins_on_items||d.css("top",(m-d.height())/2+a.margin_y+"px"):d.css("top",(m-d.height())/2+a.margin_y+"px");break;case KolorMenu.a.g:(!a.margins_on_items||a.orientation!=KolorMenu.b.c)&&d.css("right",a.margin_x+"px");(!a.margins_on_items||a.orientation!=KolorMenu.b.d)&&d.css("bottom",a.margin_y+"px");a.orientation==KolorMenu.b.c&&"inline-block"==d.find(".kolorMenuMain").css("display")&&d.find(".kolorMenuMain").css("vertical-align",
"bottom");break;case KolorMenu.a.j:a.margins_on_items?a.margins_on_items&&a.orientation==KolorMenu.b.d&&d.css("left",(i-d.width())/2+a.margin_x+"px"):a.full_size&&a.orientation==KolorMenu.b.c?d.css("left",a.margin_x+"px"):d.css("left",(i-d.width())/2+a.margin_x+"px");(!a.margins_on_items||a.orientation!=KolorMenu.b.d)&&d.css("bottom",a.margin_y+"px");a.orientation==KolorMenu.b.c&&"inline-block"==d.find(".kolorMenuMain").css("display")&&d.find(".kolorMenuMain").css("vertical-align","bottom");break;
case KolorMenu.a.k:(!a.margins_on_items||a.orientation!=KolorMenu.b.c)&&d.css("left",a.margin_x+"px");(!a.margins_on_items||a.orientation!=KolorMenu.b.d)&&d.css("bottom",a.margin_y+"px");a.orientation==KolorMenu.b.c&&"inline-block"==d.find(".kolorMenuMain").css("display")&&d.find(".kolorMenuMain").css("vertical-align","bottom");break;case KolorMenu.a.w:(!a.margins_on_items||a.orientation!=KolorMenu.b.c)&&d.css("left",a.margin_x+"px"),a.orientation==KolorMenu.b.d?a.margins_on_items||d.css("top",(m-
d.height())/2+a.margin_y+"px"):d.css("top",(m-d.height())/2+a.margin_y+"px")}a.orientation==KolorMenu.b.d?u():y()};this.applyResetCSS=this.O=function(){var a=d.find(".kolorMenuMain").children().find("ul"),b=d.find("li.kolorMenuItem");d.find("ul").removeData();d.find("p").css("height","");d.find("p").css("line-height","");d.css("top","");d.css("right","");d.css("bottom","");d.css("left","");d.find(".kolorMenuMain").css("width","");d.find(".kolorMenuMain").css("height","");d.find(".kolorMenu").css("width",
"");d.find(".kolorMenu").css("padding-left","");b.css("margin","");b.css("padding","");a.css("top","");a.css("right","");a.css("bottom","");a.css("left","")};this.showKolorMenu=this.K=function(){d.show();E&&(E=n,p.o())};this.hideKolorMenu=this.J=function(){E=k;d.hide()};this.changeSelectedItem=this.R=function(a){for(var b=p.i().size(),a=a&&a[0]?a[0]:"",d=0,e=l,f=0;f<b;f++){group=p.i().get(f);jQuery("p#"+group.getName()).removeClass("menuSelected");jQuery("p#"+group.getName()).mouseenter();jQuery("p#"+
group.getName()).mouseleave();for(var d=group.h().size(),g=0;g<d;g++)e=group.h().get(g),e.r()==a?(jQuery("p#"+group.getName()).addClass("menuSelected"),jQuery("p#"+e.getName()).addClass("menuSelected"),jQuery("p#"+group.getName()).mouseenter(),jQuery("p#"+group.getName()).mouseleave()):jQuery("p#"+e.getName()).removeClass("menuSelected"),jQuery("p#"+e.getName()).mouseenter(),jQuery("p#"+e.getName()).mouseleave()}};this.changeCurrentGroup=this.P=function(a){a[0]&&""!=a[0]?(a[0]!=C&&(C=a[0],a=D(a[0]),
jQuery("#"+o).find(".kolorMenuMain .kolorMenu").html(a),p.o()),"none"==d.css("display")&&p.K()):p.J()}};KolorMenu.b={d:"vertical",c:"horizontal"};KolorMenu.a={t:"topleft",z:"top",n:"topright",m:"right",g:"bottomright",j:"bottom",k:"bottomleft",w:"left"};KolorMenu.v={Ea:"solid",qa:"dotted",pa:"dashed",ra:"double",ta:"groove",Da:"ridge",wa:"inset",Aa:"outset",NONE:"none"};KolorMenu.H={q:"normal",ja:"bold"};KolorMenu.G={q:"normal",xa:"italic"};
KolorMenu.I={Ia:"underline",Ba:"overline",ya:"line-through",ia:"blink",NONE:"none"};
KolorMenu.F={D:{name:"Arial",value:"Arial,'DejaVu Sans','Liberation Sans',Freesans,sans-serif"},ha:{name:"Arial Narrow",value:"'Arial Narrow','Nimbus Sans L',sans-serif"},ga:{name:"Arial Black",value:"'Arial Black',Gadget,sans-serif"},ka:{name:"Bookman",value:"'Bookman Old Style',Bookman,'URW Bookman L','Palatino Linotype',serif"},la:{name:"Century Gothic",value:"'Century Gothic',futura,'URW Gothic L',Verdana,sans-serif"},ma:{name:"Comic Sans MS",value:"'Comic Sans MS',cursive"},na:{name:"Console",
value:"Consolas,'Lucida Console','DejaVu Sans Mono',monospace"},oa:{name:"Courier",value:"'Courier New',Courier,'Nimbus Mono L',monospace"},sa:{name:"Georgia",value:"Constantia,Georgia,'Nimbus Roman No9 L',serif"},ua:{name:"Helvetica",value:"Helvetica,Arial,'DejaVu Sans','Liberation Sans',Freesans,sans-serif"},va:{name:"Impact",value:"Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif"},za:{name:"Lucida Sans",value:"'Lucida Sans Unicode','Lucida Grande','Lucida Sans','DejaVu Sans Condensed',sans-serif"},
Ca:{name:"Palatino",value:"Cambria,'Palatino Linotype','Book Antiqua','URW Palladio L',serif"},Fa:{name:"Thaoma",value:"'Tahoma',sans-serif"},Ga:{name:"Times New Roman",value:"Cambria,'Times New Roman','Nimbus Roman No9 L','Freeserif',Times,serif"},Ha:{name:"Trebuchet",value:"'Trebuchet MS',sans-serif"},Ja:{name:"Verdana",value:"Verdana, sans-serif"}};
KolorMenuObject=function(){var q="",o="",r="",s="",t="",w=n,x=n,y="",u={},z=l,v=new ktools.Collection;this.setName=this.$=function(j){q=j};this.setTitle=this.fa=function(j){o=j};this.setI18nText=this.Y=function(j){r=j};this.setAction=this.W=function(j){s=j};this.setThumbnail=this.ea=function(j){t=j};this.setSubMenu=this.da=function(j){w=j};this.setMainLevel=this.C=function(j){x=j};this.setCssClass=this.X=function(j){y=j};this.getName=this.getName=function(){return q};this.getTitle=this.e=function(){return o};
this.getI18nText=this.S=function(){return r};this.getAction=this.u=function(){return s};this.getThumbnail=this.f=function(){return t};this.getSubMenu=this.p=function(){return w};this.getMainLevel=this.s=function(){return x};this.getCssClass=this.r=function(){return y};this.addOption=this.N=function(j,o){u[j]=o};this.setOptions=this.aa=function(j){u=j};this.getOptions=this.l=function(){return u};this.setParent=this.ba=function(j){z=j};this.getParent=this.getParent=function(){return z};this.addChild=
this.L=function(j){v.add(j)};this.getChildren=this.h=function(){return v};this.hasChildren=this.A=function(){return Boolean(0<v.size())}};})();